<div class="modal-dialog-flip-container" ng-class="{ 'modal-dialog-show-back' : userModalBacksideVisible }">
  <div class="modal-dialog-flip-action">
    <div class="modal-dialog modal-dialog-flip-front">
      <div class="modal-dialog-title-bar">
        <span class="title">
          <span ng-if="user.temporary">New Publications Account</span>
          <span ng-if="!user.temporary">{{ user.name }}</span>
        </span>
      </div>
      <div class="modal-content">
        <button class="btn" type="button" ng-click="userModalFlip()">
          <span ng-if="user.temporary">Personalize and Create Account</span>
          <span ng-if="!user.temporary">Change Password</span>
        </button>
        <button class="btn" type="button" ng-click="logout()">
          <span ng-if="user.temporary">Exit Publications without Saving</span>
          <span ng-if="!user.temporary">Log Out</span>
        </button>
        <button class="btn" type="button" ng-click="userModal()">Close</button>
      </div>
    </div>
    <div class="modal-dialog modal-dialog-flip-back">
      <div class="modal-content">
        <form name="userAccountForm" role="form">
          <div class="modal-fieldsets">
            <div ng-show="user.temporary">
              <div class="txt-group">
                <input autocomplete="off" class="txt" type="text" ng-model="userAccountForm.emailAddress" name="name" id="name" required>
                <label class="txt-label" for="name">Email address</label>
              </div>
            </div>
            <div ng-show="!user.temporary">
              <div class="txt-group">
                <input autocomplete="off" class="txt" type="password" ng-model="userAccountForm.currentPassword" name="current-password" id="current-password" required>
                <label class="txt-label" for="current-password">Current Password</label>
              </div>
            </div>
            <div class="txt-group">
              <input class="txt" type="password" ng-model="userAccountForm.newPassword" name="new-password" id="new-password" required>
              <label class="txt-label" for="new-password">New Password</label>
            </div>
            <div class="txt-group">
              <input autocomplete="off" class="txt" type="password" ng-model="userAccountForm.confirmPassword" name="confirm-password" id="confirm-password" required>
              <label class="txt-label" for="confirm-password">Confirm New Password</label>
            </div>
          </div>
          <button class="btn" type="button" ng-click="updateUserAccount(userAccountForm)" ng-disabled="userAccountForm.$invalid || userAccountForm.newPassword !== userAccountForm.confirmPassword">
            <span ng-if="user.temporary">Create Account</span>
            <span ng-if="!user.temporary">Change Password</span>
          </button>
          <button class="btn" type="button" ng-click="userModalFlip()">Cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>
