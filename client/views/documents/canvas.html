<div class="editor-view">
  <br />
  <div class="pub-svg-view">
    <svg ng-attr-width="{{ doc.width * dpi * zoomLevel }}" 
         ng-attr-height="{{ doc.height * dpi * zoomLevel }}">
      <g id="svg-background">
        <rect ng-attr-height="{{ doc.height * dpi * zoomLevel }}" 
              ng-attr-width="{{ doc.width * dpi * zoomLevel }}" 
              x="0" 
              y="0"
              fill="#fff"
              stroke="#000"
              stroke-width="1"
              fill-opacity="1.0"
              stroke-opacity="0.90"
              ng-click="svgObjectSelected(null)" />
      </g>
      <g id="grid">
          <path ng-repeat="x in xAxisRange()"
                ng-attr-d="M{{(x * (dpi / 4.0) * zoomLevel) - 0.5}} 0 V{{(x * (dpi / 4.0) * zoomLevel) - 2.5}} {{ doc.height * dpi * zoomLevel }} Z"
                ng-class="{ 'inch-mark' : (x % 4) === 0 }" />
          <path ng-repeat="y in yAxisRange()"
                ng-attr-d="M0 {{(y * (dpi / 4.0) * zoomLevel) - 0.5}} H{{ doc.width * dpi * zoomLevel }} {{(y * (dpi / 4.0) * zoomLevel) - 0.5}} Z"
                ng-class="{ 'inch-mark' : (y % 4) === 0 }" />
                
      </g>
      <g ng-repeat="shape in doc.shapes">
        <g ng-switch="shape.type">
          <g ng-switch-when="rect">
            <rect ng-attr-x="{{ shape.x * dpi * zoomLevel }}" 
                  ng-attr-y="{{ shape.y * dpi * zoomLevel }}" 
                  ng-attr-rx="{{ shape.r * zoomLevel }}"
                  ng-attr-ry="{{ shape.r * zoomLevel }}"
                  ng-attr-height="{{ shape.height * dpi * zoomLevel }}" 
                  ng-attr-width="{{ shape.width * dpi * zoomLevel }}" 
                  ng-attr-fill="{{ shape.fill }}"
                  ng-attr-stroke="{{ shape.stroke }}"
                  ng-attr-stroke-width="{{ shape.strokeWidth * zoomLevel }}"
                  ng-attr-fill-opacity="{{ shape.fillOpacity }}"
                  ng-attr-stroke-opacity="{{ shape.strokeOpacity }}"
                  ng-click="svgObjectSelected(shape)" />
          </g>
          <g ng-switch-when="ellipse">
            <ellipse ng-attr-cx="{{ (shape.x * dpi * zoomLevel) + (shape.width / 2.0 * dpi * zoomLevel) }}" 
                     ng-attr-cy="{{ (shape.y * dpi * zoomLevel) + (shape.height / 2.0 * dpi * zoomLevel) }}" 
                     ng-attr-rx="{{ shape.width / 2.0 * dpi * zoomLevel }}" 
                     ng-attr-ry="{{ shape.height / 2.0 * dpi * zoomLevel }}" 
                     ng-attr-fill="{{ shape.fill }}"
                     ng-attr-stroke="{{ shape.stroke }}"
                     ng-attr-stroke-width="{{ shape.strokeWidth * zoomLevel }}"
                     ng-attr-fill-opacity="{{ shape.fillOpacity }}"
                     ng-attr-stroke-opacity="{{ shape.strokeOpacity }}"
                     ng-click="svgObjectSelected(shape)" />
          </g>
        </g>
      </g>
    </svg>
  </div>
</div>